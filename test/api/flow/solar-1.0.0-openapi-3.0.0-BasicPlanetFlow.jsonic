# BasicPlanetFlow

main: sdk: flow: BasicPlanetFlow:
{
  name: "BasicPlanetFlow",
  active: true,
  param: {
    SOLAR_TEST_PLANET_ENTID: {
      planet01: "PLANET01",
      planet02: "PLANET02",
      planet03: "PLANET03"
    }

    SOLAR_TEST_LIVE: "FALSE",
    SOLAR_TEST_EXPLAIN: "FALSE"
  }

  test: {
    entity: {
      planet: {
        PLANET01: {
          diameter: "s0",
          id: "PLANET01",
          kind: "s2",
          name: "s3"
        }

        PLANET02: {
          diameter: "s28",
          id: "PLANET02",
          kind: "s2a",
          name: "s2b"
        }

        PLANET03: {
          diameter: "s50",
          id: "PLANET03",
          kind: "s52",
          name: "s53"
        }
      }
    }
  }

  step: [
    {
      name: "load_planet0",
      kind: "entity",
      entity: "planet",
      action: "load",
      match: {
        id: "`dm$=p.SOLAR_TEST_PLANET_ENTID.planet01`"
      }

      valid: {
        "`$OPEN`": true,
        id: "`dm$=s.load_planet0.match.id`"
      }
    }

    {
      name: "update_planet1",
      ref: "load_planet0",
      action: "update",
      reqdata: {}

      valid: {
        "`$OPEN`": true,
        id: "`dm$=s.load_planet0.match.id`"
      }
    }

    {
      name: "load_planet2",
      kind: "entity",
      entity: "planet",
      action: "load",
      match: {
        id: "`dm$=p.SOLAR_TEST_PLANET_ENTID.planet01`"
      }

      valid: {
        "`$OPEN`": true,
        id: "`dm$=s.load_planet0.match.id`"
      }
    }
  ]
}